<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CryptoFolio Access</title>
  <meta name="description" content="CryptoFolio bridge page for mobile and in-app browser access.">
  <style>
    :root {
      --bg: #fff5ef;
      --surface: #ffffff;
      --border: #efdbc9;
      --text: #231711;
      --muted: #7a675b;
      --accent: #ff6b35;
      --accent-2: #e55300;
      --ok: #0f8a56;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 18px;
      font-family: "IBM Plex Sans", "PingFang SC", "Microsoft YaHei", sans-serif;
      color: var(--text);
      background: radial-gradient(1000px 500px at -10% -10%, #ffe3d3 0%, transparent 60%), var(--bg);
    }
    .card {
      width: min(680px, 100%);
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 22px;
      box-shadow: 0 16px 40px rgba(85, 35, 12, 0.12);
    }
    h1 { margin: 0 0 8px; font-size: 1.5rem; }
    p { margin: 0 0 12px; line-height: 1.55; color: var(--muted); }
    .url-box {
      margin-top: 8px;
      border: 1px dashed var(--border);
      border-radius: 10px;
      background: #fffaf7;
      padding: 10px;
      font-size: 0.92rem;
      word-break: break-all;
    }
    .actions {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    button, a.btn {
      appearance: none;
      border: 1px solid transparent;
      border-radius: 10px;
      padding: 10px 14px;
      cursor: pointer;
      text-decoration: none;
      font-weight: 700;
      font-size: 0.92rem;
    }
    .primary {
      background: linear-gradient(135deg, var(--accent), #ff8c42);
      color: #fff;
      border-color: var(--accent-2);
    }
    .secondary {
      background: #fff;
      color: var(--text);
      border-color: var(--border);
    }
    .hint, .ok {
      margin-top: 12px;
      padding: 10px;
      border-radius: 10px;
      display: none;
    }
    .hint {
      background: #fff6f1;
      border: 1px solid #f4d9c8;
      color: #8b4b2a;
    }
    .ok {
      background: #f2fff8;
      border: 1px solid #bfefda;
      color: var(--ok);
    }
    .show { display: block; }
  </style>
</head>
<body>
  <main class="card">
    <h1 id="title">CryptoFolio Access</h1>
    <p id="desc">If opened inside social apps, security redirect may block direct access. Use this bridge page.</p>
    <div class="url-box" id="targetUrl">https://crypto-portfolio-tracker-tan-nine.vercel.app</div>
    <div class="actions">
      <a class="btn primary" id="openBtn" href="https://crypto-portfolio-tracker-tan-nine.vercel.app">Open Main Site</a>
      <button class="secondary" id="copyBtn" type="button">Copy Link</button>
    </div>
    <p class="hint" id="wechatHint">WeChat in-app browser detected. Tap top-right menu and choose Open in Browser.</p>
    <p class="hint" id="copyManualHint">If copy fails, long-press URL above and copy manually, then open in Safari/Chrome.</p>
    <p class="ok" id="copyOk">Link copied. Paste it into your browser.</p>
  </main>

  <script>
    (function () {
      const target = "https://crypto-portfolio-tracker-tan-nine.vercel.app";
      const text = {
        "zh-CN": {
          title: "CryptoFolio \u8bbf\u95ee\u5165\u53e3",
          desc: "\u5982\u679c\u4f60\u5728\u5fae\u4fe1\u7b49 App \u5185\u6253\u5f00\uff0c\u53ef\u80fd\u88ab\u5b89\u5168\u8df3\u8f6c\u62e6\u622a\u3002\u8bf7\u901a\u8fc7\u672c\u9875\u8fdb\u5165\u4e3b\u7ad9\u3002",
          open: "\u8fdb\u5165\u4e3b\u7ad9",
          copy: "\u590d\u5236\u4e3b\u7ad9\u94fe\u63a5",
          wx: "\u68c0\u6d4b\u5230\u5fae\u4fe1\u5185\u6253\u5f00\uff1a\u8bf7\u70b9\u51fb\u53f3\u4e0a\u89d2\u83dc\u5355\uff0c\u9009\u62e9\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u3002",
          copied: "\u94fe\u63a5\u5df2\u590d\u5236\uff0c\u8bf7\u7c98\u8d34\u5230\u6d4f\u89c8\u5668\u6253\u5f00\u3002",
          manual: "\u82e5\u590d\u5236\u5931\u8d25\uff0c\u8bf7\u957f\u6309\u4e0a\u65b9\u94fe\u63a5\u624b\u52a8\u590d\u5236\uff0c\u7136\u540e\u5728 Safari/Chrome \u6253\u5f00\u3002"
        },
        "en-US": {
          title: "CryptoFolio Access",
          desc: "If this page is opened inside social apps, security redirects may block direct access. Use this page to continue.",
          open: "Open Main Site",
          copy: "Copy Link",
          wx: "WeChat in-app browser detected. Tap top-right menu and choose Open in Browser.",
          copied: "Copied. Paste the link into Safari or Chrome.",
          manual: "If copy fails, long-press the URL above and copy manually."
        }
      };

      const ua = navigator.userAgent || "";
      const isWeChat = /MicroMessenger/i.test(ua);
      const isZh = (navigator.language || "").toLowerCase().startsWith("zh");
      const locale = isZh ? "zh-CN" : "en-US";
      const i18n = text[locale];

      const titleEl = document.getElementById("title");
      const descEl = document.getElementById("desc");
      const targetEl = document.getElementById("targetUrl");
      const openBtn = document.getElementById("openBtn");
      const copyBtn = document.getElementById("copyBtn");
      const wechatHint = document.getElementById("wechatHint");
      const copyManualHint = document.getElementById("copyManualHint");
      const copyOk = document.getElementById("copyOk");

      titleEl.textContent = i18n.title;
      descEl.textContent = i18n.desc;
      openBtn.textContent = i18n.open;
      copyBtn.textContent = i18n.copy;
      wechatHint.textContent = i18n.wx;
      copyOk.textContent = i18n.copied;
      copyManualHint.textContent = i18n.manual;
      targetEl.textContent = target;
      openBtn.href = target;

      if (isWeChat) {
        wechatHint.classList.add("show");
      } else {
        setTimeout(function () {
          window.location.href = target;
        }, 1200);
      }

      copyBtn.addEventListener("click", async function () {
        copyOk.classList.remove("show");
        copyManualHint.classList.remove("show");
        try {
          await navigator.clipboard.writeText(target);
          copyOk.classList.add("show");
        } catch (_error) {
          try {
            const input = document.createElement("input");
            input.value = target;
            document.body.appendChild(input);
            input.select();
            document.execCommand("copy");
            document.body.removeChild(input);
            copyOk.classList.add("show");
          } catch (_fallbackError) {
            copyManualHint.classList.add("show");
          }
        }
      });
    })();
  </script>
</body>
</html>
